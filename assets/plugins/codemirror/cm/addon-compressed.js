(function(){function f(a){"activeLine"in a.state&&(a.removeLineClass(a.state.activeLine,"wrap",d),a.removeLineClass(a.state.activeLine,"background",c))}function b(a){var b=a.getLineHandle(a.getCursor().line);a.state.activeLine!=b&&(f(a),a.addLineClass(b,"wrap",d),a.addLineClass(b,"background",c),a.state.activeLine=b)}var d="CodeMirror-activeline",c="CodeMirror-activeline-background";CodeMirror.defineOption("styleActiveLine",!1,function(a,c,e){e=e&&e!=CodeMirror.Init;c&&!e?(b(a),a.on("cursorActivity",
b)):!c&&e&&(a.off("cursorActivity",b),f(a),delete a.state.activeLine)})})();
(function(){function f(b){this.minChars="object"==typeof b&&b.minChars||c;this.style="object"==typeof b&&b.style||a;this.overlay=null}function b(a){a.operation(function(){var b=a.state.matchHighlighter;b.overlay&&(a.removeOverlay(b.overlay),b.overlay=null);if(a.somethingSelected()){var g=a.getSelection().replace(/^\s+|\s+$/g,"");g.length<b.minChars||a.addOverlay(b.overlay=d(g,b.style))}})}function d(a,b){return{token:function(g){if(g.match(a))return b;g.next();g.skipTo(a.charAt(0))||g.skipToEnd()}}}
var c=2,a="matchhighlight";CodeMirror.defineOption("highlightSelectionMatches",!1,function(a,c,g){g=g&&g!=CodeMirror.Init;c&&!g?(a.state.matchHighlighter=new f(c),a.on("cursorActivity",b)):!c&&g&&((c=a.state.matchHighlighter.overlay)&&a.removeOverlay(c),a.state.matchHighlighter=null,a.off("cursorActivity",b))})})();
CodeMirror.overlayMode=CodeMirror.overlayParser=function(f,b,d){return{startState:function(){return{base:CodeMirror.startState(f),overlay:CodeMirror.startState(b),basePos:0,baseCur:null,overlayPos:0,overlayCur:null}},copyState:function(c){return{base:CodeMirror.copyState(f,c.base),overlay:CodeMirror.copyState(b,c.overlay),basePos:c.basePos,baseCur:null,overlayPos:c.overlayPos,overlayCur:null}},token:function(c,a){c.start==a.basePos&&(a.baseCur=f.token(c,a.base),a.basePos=c.pos);c.start==a.overlayPos&&
(c.pos=c.start,a.overlayCur=b.token(c,a.overlay),a.overlayPos=c.pos);c.pos=Math.min(a.basePos,a.overlayPos);c.eol()&&(a.basePos=a.overlayPos=0);return null==a.overlayCur?a.baseCur:null!=a.baseCur&&d?a.baseCur+" "+a.overlayCur:a.overlayCur},indent:f.indent&&function(b,a){return f.indent(b.base,a)},electricChars:f.electricChars,innerMode:function(b){return{state:b.base,mode:f}},blankLine:function(c){f.blankLine&&f.blankLine(c.base);b.blankLine&&b.blankLine(c.overlay)}}};
CodeMirror.newFoldFunction=function(f,b){null==b&&(b="\u2194");if("string"==typeof b){var d=document.createTextNode(b);b=document.createElement("span");b.appendChild(d);b.className="CodeMirror-foldmarker"}return function(c,a){"number"==typeof a&&(a=CodeMirror.Pos(a,0));var d=f(c,a);if(d){for(var e=c.findMarksAt(d.from),g=0,m=0;m<e.length;++m)e[m].__isFold&&(++g,e[m].clear());if(!g){e=b.cloneNode(!0);CodeMirror.on(e,"mousedown",function(){q.clear()});var q=c.markText(d.from,d.to,{replacedWith:e,clearOnEnter:!0,
__isFold:!0})}}}};
CodeMirror.tagRangeFinder=function(){var f=RegExp("<(/?)([A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");return function(b,d){function c(){if(!(e>=b.lastLine()))return g=
0,m=b.getLine(++e),!0}function a(){for(;;){var a=m.indexOf(">",g);if(-1==a)if(c())continue;else break;var b=m.lastIndexOf("/",a),b=-1<b&&/^\s*$/.test(m.slice(b+1,a));g=a+1;return b?"selfClose":"regular"}}function n(){for(;;){f.lastIndex=g;var a=f.exec(m);if(!a)if(c())continue;else break;g=a.index+a[0].length;return a}}for(var e=d.line,g=d.ch,m=b.getLine(e),q=[],j;;){var l=n(),k;if(!l||e!=d.line||!(k=a()))return;if(!l[1]&&"selfClose"!=k){q.push(l[2]);j=g;break}}for(;;){var l=n(),h=e,p=g-(l?l[0].length:
0);if(!l||!(k=a()))break;if("selfClose"!=k)if(l[1]){for(var r=q.length-1;0<=r;--r)if(q[r]==l[2]){q.length=r;break}if(!q.length)return{from:CodeMirror.Pos(d.line,j),to:CodeMirror.Pos(h,p)}}else q.push(l[2])}}}();
CodeMirror.braceRangeFinder=function(f,b){for(var d=b.line,c=f.getLine(d),a=c.length,n,e;0<a;){var g=c.lastIndexOf("{",a),m="{",q="}";if(g<b.ch){g=c.lastIndexOf("[",a);if(g<b.ch)break;m="[";q="]"}e=f.getTokenAt(CodeMirror.Pos(d,g+1)).type;if(!/^(comment|string)/.test(e)){n=g;break}a=g-1}if(!(null==n||c.lastIndexOf(m)>n)){var c=1,a=f.lineCount(),j,l,g=d+1;a:for(;g<a;++g)for(var k=f.getLine(g),h=0;;){var p=k.indexOf(m,h),h=k.indexOf(q,h);0>p&&(p=k.length);0>h&&(h=k.length);h=Math.min(p,h);if(h==k.length)break;
if(f.getTokenAt(CodeMirror.Pos(g,h+1)).type==e)if(h==p)++c;else if(!--c){j=g;l=h;break a}++h}if(!(null==j||j==d+1))return{from:CodeMirror.Pos(d,n+1),to:CodeMirror.Pos(j,l)}}};
myEventHandler=function(f,b){if(!0==b.ctrlKey&&83==b.keyCode){try{if(document.getElementById("Button1"))document.getElementById("Button1").getElementsByTagName("a")[0].onclick()}catch(d){}return b.stop()}if(!0==b.ctrlKey&&69==b.keyCode){try{document.getElementById("Button1")&&(document.getElementById("Button1").getElementsByTagName("select")[0].options[1].selected=!0,document.getElementById("Button1").getElementsByTagName("a")[0].onclick())}catch(c){}return b.stop()}if(!0==b.ctrlKey&&66==b.keyCode){try{document.getElementById("Button1")&&
(document.getElementById("Button1").getElementsByTagName("select")[0].options[0].selected=!0,document.getElementById("Button1").getElementsByTagName("a")[0].onclick())}catch(a){}return b.stop()}if(!0==b.ctrlKey&&81==b.keyCode){try{document.getElementById("Button1")&&(document.getElementById("Button1").getElementsByTagName("select")[0].options[2].selected=!0,document.getElementById("Button1").getElementsByTagName("a")[0].onclick())}catch(n){}return b.stop()}};
function isFullScreen(f){return/\bCodeMirror-fullscreen\b/.test(f.getWrapperElement().className)}function winHeight(){return window.innerHeight||(document.documentElement||document.body).clientHeight}
function setFullScreen(f,b){var d=f.getWrapperElement(),c=document.getElementById("actions");b?(d.className+=" CodeMirror-fullscreen",d.style.height=winHeight()+"px",document.documentElement.style.overflow="hidden",top.mainMenu.hideTreeFrame(),c.className+=" action-opacity"):(d.className=d.className.replace(" CodeMirror-fullscreen",""),d.style.height="",document.documentElement.style.overflow="",top.mainMenu.defaultTreeFrame(),c.className=c.className.replace(" action-opacity",""));f.refresh()}
CodeMirror.on(window,"resize",function(){var f=document.body.getElementsByClassName("CodeMirror-fullscreen")[0];f&&(f.CodeMirror.getWrapperElement().style.height=winHeight()+"px")});(function(){function f(b){function c(d,e,h){if(d.text){var j=p?0:d.text.length-1,k=p?d.text.length:-1;if(d.text.length>f)return null;var m=1E3>d.text.length;for(null!=h&&(j=h+r);j!=k;j+=r)if(h=d.text.charAt(j),v.test(h)&&(!m||b.getTokenAt(a(e,j+1)).type==u)){var l=n[h];if(">"==l.charAt(1)==p)t.push(h);else{if(t.pop()!=l.charAt(0))return{pos:j,match:!1};if(!t.length)return{pos:j,match:!0}}}}}var f=b.state._matchBrackets.maxScanLineLength||1E4,d=b.getCursor(),e=b.getLineHandle(d.line),k=d.ch-1,h=0<=
k&&n[e.text.charAt(k)]||n[e.text.charAt(++k)];if(!h)return null;for(var p=">"==h.charAt(1),r=p?1:-1,u=b.getTokenAt(a(d.line,k+1)).type,t=[e.text.charAt(k)],v=/[(){}[\]]/,h=d.line,s,w=p?Math.min(h+100,b.lineCount()):Math.max(-1,h-100);h!=w&&!(s=h==d.line?c(e,h,k):c(b.getLineHandle(h),h));h+=r);return{from:a(d.line,k),to:s&&a(h,s.pos),match:s&&s.match}}function b(b,d){var e=b.state._matchBrackets.maxHighlightLineLength||1E3,j=f(b);if(j&&!(b.getLine(j.from.line).length>e||j.to&&b.getLine(j.to.line).length>
e)){var e=j.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",l=b.markText(j.from,a(j.from.line,j.from.ch+1),{className:e}),k=j.to&&b.markText(j.to,a(j.to.line,j.to.ch+1),{className:e});c&&b.state.focused&&b.display.input.focus();j=function(){b.operation(function(){l.clear();k&&k.clear()})};if(d)setTimeout(j,800);else return j}}function d(a){a.operation(function(){e&&(e(),e=null);a.somethingSelected()||(e=b(a,!1))})}var c=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||
8>document.documentMode),a=CodeMirror.Pos,n={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},e=null;CodeMirror.defineOption("matchBrackets",!1,function(a,b,c){c&&c!=CodeMirror.Init&&a.off("cursorActivity",d);b&&(a.state._matchBrackets="object"==typeof b?b:{},a.on("cursorActivity",d))});CodeMirror.defineExtension("matchBrackets",function(){b(this,!0)});CodeMirror.defineExtension("findMatchingBracket",function(){return f(this)})})();